[gd_scene load_steps=10 format=2]

[ext_resource path="res://Villager.tscn" type="PackedScene" id=1]
[ext_resource path="res://MainScript.gd" type="Script" id=2]
[ext_resource path="res://DrawSelectNode2DScript.gd" type="Script" id=3]
[ext_resource path="res://Fire.tscn" type="PackedScene" id=4]
[ext_resource path="res://assets/background/background3.png" type="Texture" id=5]
[ext_resource path="res://HUD.tscn" type="PackedScene" id=6]

[sub_resource type="GDScript" id=2]

[sub_resource type="Curve2D" id=3]
_data = {
"points": PoolVector2Array( 0, 0, 0, 0, 653, 171, 0, 0, 0, 0, 689, 197, 0, 0, 0, 0, 726, 201, 0, 0, 0, 0, 756.785, 210.133, 0, 0, 0, 0, 792.543, 210.133, 0, 0, 0, 0, 806.498, 231.003, 0, 0, 0, 0, 804.753, 278.832, 0, 0, 0, 0, 857.082, 287.528 )
}

[sub_resource type="Curve2D" id=4]
_data = {
"points": PoolVector2Array( 0, 0, 0, 0, 317.176, 119.793, 0, 0, 0, 0, 317.176, 145.96, 0, 0, 0, 0, 320.706, 174.22, 0, 0, 0, 0, 314.023, 185.407, 0, 0, 0, 0, 304.824, 204.573, 0, 0, 0, 0, 280.118, 230.74, 0, 0, 0, 0, 246.588, 251.673, 0, 0, 0, 0, 220.118, 264.233, 0, 0, 0, 0, 185.706, 267.373 )
}

[node name="Game" type="Node2D"]
script = ExtResource( 2 )

[node name="HUD" parent="." instance=ExtResource( 6 )]

[node name="Background" type="Sprite" parent="."]
position = Vector2( 512, 300 )
texture = ExtResource( 5 )

[node name="DrawSelectNode2D" type="Node2D" parent="."]
script = ExtResource( 3 )

[node name="YSort" type="YSort" parent="."]

[node name="Fire" parent="YSort" instance=ExtResource( 4 )]
position = Vector2( 521, 309 )

[node name="Villager" parent="YSort" instance=ExtResource( 1 )]
position = Vector2( 448, 324 )

[node name="HouseSpawn1" type="Node2D" parent="YSort"]
position = Vector2( 374, 442 )

[node name="HouseSpawn2" type="Node2D" parent="YSort"]
position = Vector2( 703, 426 )

[node name="HouseSpawn3" type="Node2D" parent="YSort"]
position = Vector2( 479, 538 )

[node name="HouseSpawn4" type="Node2D" parent="YSort"]
position = Vector2( 556, 458 )

[node name="HouseSpawn5" type="Node2D" parent="YSort"]
position = Vector2( 662, 537 )

[node name="VillagerSpawn" type="Node2D" parent="."]
position = Vector2( 1053, 336 )

[node name="TreesStaticBody2d" type="StaticBody2D" parent="."]
position = Vector2( 667, 147 )
input_pickable = true
script = SubResource( 2 )

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="TreesStaticBody2d"]
polygon = PoolVector2Array( 41, 28, 83, 37, 129, 23, 162, 47, 160, 114, 178, 120, 201, 62, 233, 64, 250, 44, 255, -2, 279, -90, 73, -93, 0, -50, 0, 7 )

[node name="WoodCuttingPath" type="Path2D" parent="."]
position = Vector2( -118.728, -38.6391 )
scale = Vector2( 1.1466, 1.14994 )
curve = SubResource( 3 )

[node name="PathFollow2D" type="PathFollow2D" parent="WoodCuttingPath"]
position = Vector2( 675.806, 187.471 )
rotation = 0.6255
offset = 28.12

[node name="PondStaticBody" type="StaticBody2D" parent="."]
input_pickable = true

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="PondStaticBody"]
polygon = PoolVector2Array( 286, 145, 292, 172, 261, 215, 171, 254, 93, 255, 37, 208, 37, 175, 56, 153, 63, 99, 90, 54, 151, 52, 192, 54, 251, 38, 313, 40, 326, 60, 317, 77, 286, 101, 272, 123 )

[node name="PondPath" type="Path2D" parent="."]
position = Vector2( -48.2179, 7.43056 )
scale = Vector2( 1.14815, 1.02317 )
curve = SubResource( 4 )

[node name="PathFollow2D" type="PathFollow2D" parent="PondPath"]
position = Vector2( 317.176, 119.793 )
rotation = 1.5708

[node name="PondArea" type="Area2D" parent="."]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="PondArea"]
polygon = PoolVector2Array( 362, 82, 335, 128, 343, 202, 308, 253, 263, 286, 190, 302, 113, 305, 57, 286, 21, 266, -7, 221, -4, 103, 58, 5, 140, 8, 218, -4, 316, -1, 359, 7, 377, 63 )

[node name="WoodArea" type="Area2D" parent="."]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="WoodArea"]
polygon = PoolVector2Array( 627, 64, 599, 137, 636, 193, 687, 221, 755, 218, 774, 255, 790, 306, 855, 317, 906, 302, 927, 260, 983, 213, 992, 131, 993, 70, 994, 19, 935, 9, 835, 18, 708, 16 )

[node name="VillagerArrive" type="Timer" parent="."]
wait_time = 5.0
autostart = true

[connection signal="build_house" from="HUD" to="." method="_on_HUD_build_house"]
[connection signal="input_event" from="TreesStaticBody2d" to="." method="_on_TreesStaticBody2d_input_event"]
[connection signal="input_event" from="PondStaticBody" to="." method="_on_PondStaticBody_input_event"]
[connection signal="body_entered" from="PondArea" to="." method="_on_PondArea_body_entered"]
[connection signal="body_exited" from="PondArea" to="." method="_on_PondArea_body_exited"]
[connection signal="body_entered" from="WoodArea" to="." method="_on_WoodArea_body_entered"]
[connection signal="body_exited" from="WoodArea" to="." method="_on_WoodArea_body_exited"]
[connection signal="timeout" from="VillagerArrive" to="." method="_on_VillagerArrive_timeout"]
