[gd_scene load_steps=22 format=2]

[ext_resource path="res://Villager.tscn" type="PackedScene" id=1]
[ext_resource path="res://MainScript.gd" type="Script" id=2]
[ext_resource path="res://DrawSelectNode2DScript.gd" type="Script" id=3]
[ext_resource path="res://Fire.tscn" type="PackedScene" id=4]
[ext_resource path="res://assets/background/background8.png" type="Texture" id=5]
[ext_resource path="res://HUD.tscn" type="PackedScene" id=6]
[ext_resource path="res://assets/font/monogram.ttf" type="DynamicFontData" id=7]
[ext_resource path="res://assets/click/click2.png" type="Texture" id=8]
[ext_resource path="res://assets/click/click1.png" type="Texture" id=9]
[ext_resource path="res://assets/click/click4.png" type="Texture" id=10]
[ext_resource path="res://assets/click/click3.png" type="Texture" id=11]
[ext_resource path="res://assets/click/click5.png" type="Texture" id=12]
[ext_resource path="res://assets/sounds/fire.wav" type="AudioStream" id=13]
[ext_resource path="res://assets/sounds/chopping.wav" type="AudioStream" id=14]
[ext_resource path="res://assets/sounds/water.wav" type="AudioStream" id=15]
[ext_resource path="res://PauseSceneScript.gd" type="Script" id=16]
[ext_resource path="res://assets/sounds/select.wav" type="AudioStream" id=17]

[sub_resource type="DynamicFont" id=8]
size = 64
font_data = ExtResource( 7 )

[sub_resource type="SpriteFrames" id=7]
animations = [ {
"frames": [ ExtResource( 9 ), ExtResource( 8 ), ExtResource( 11 ), ExtResource( 10 ), ExtResource( 12 ) ],
"loop": false,
"name": "click",
"speed": 11.0
} ]

[sub_resource type="DynamicFont" id=5]
size = 32
font_data = ExtResource( 7 )

[sub_resource type="NavigationPolygon" id=6]
vertices = PoolVector2Array( 1096, 326, 1174, 332, 717, 422, 739, 393, 1009, 330, 1244, 213, 1292, -5, 1301, 731, 1240, 268, 910, 109, 907, 136, 874, 154, 864, 141, 847, 110, 1228, 167, 1229, 113, 1209, 63, 1037, 94, 1013, 144, 986, 97, 1182, 49, 1133, 108, 1093, 50, 362, 76, 816, 114, 812, 129, 385, 113, 330, 96, 870, 266, 936, 259, 934, 303, 730, 354, 817, 143, 353, 221, 337, 175, 383, 166, 1025, 295, 1027, 265, 1088, 273, 1179, 275, -12, 732, 950, 330, 854, 243, 688, 339, 333, 117, 1060, 102, 957, 52, 196, 58, 153, 77, 135, 56, 920, 82, 830, 103, -4, -8, 937, 52, 348, 40, 357, 250, 869, 179, 860, 204, 350, 276, 856, 225, 633, 342, 607, 362, 596, 395, 315, 321, 604, 416, 243, 350, 109, 65, 121, 105, 112, 121, 94, 145, 276, 35, 253, 58, 664, 431, 181, 352, 130, 343, 82, 303, 74, 175, 63, 205, 62, 263 )
polygons = [ PoolIntArray( 0, 1, 2, 3, 4 ), PoolIntArray( 5, 6, 7, 8 ), PoolIntArray( 9, 10, 11, 12, 13 ), PoolIntArray( 6, 5, 14, 15 ), PoolIntArray( 6, 15, 16 ), PoolIntArray( 17, 18, 19 ), PoolIntArray( 20, 21, 22 ), PoolIntArray( 23, 24, 25, 26, 27 ), PoolIntArray( 28, 29, 30, 3, 31 ), PoolIntArray( 32, 33, 34, 35, 25 ), PoolIntArray( 36, 37, 38, 0 ), PoolIntArray( 35, 26, 25 ), PoolIntArray( 39, 8, 7, 1 ), PoolIntArray( 1, 7, 40, 2 ), PoolIntArray( 4, 36, 0 ), PoolIntArray( 41, 4, 3 ), PoolIntArray( 30, 41, 3 ), PoolIntArray( 42, 28, 31, 43 ), PoolIntArray( 26, 44, 27 ), PoolIntArray( 22, 45, 17, 46 ), PoolIntArray( 47, 48, 49 ), PoolIntArray( 50, 9, 13, 51 ), PoolIntArray( 6, 16, 20 ), PoolIntArray( 52, 6, 20, 22 ), PoolIntArray( 17, 19, 46 ), PoolIntArray( 52, 22, 46, 53 ), PoolIntArray( 52, 53, 50, 51, 54 ), PoolIntArray( 55, 33, 32 ), PoolIntArray( 11, 56, 57, 58, 55, 32, 12 ), PoolIntArray( 24, 23, 54, 51 ), PoolIntArray( 58, 57, 59 ), PoolIntArray( 58, 59, 42, 43, 60 ), PoolIntArray( 58, 60, 61 ), PoolIntArray( 58, 61, 62, 63 ), PoolIntArray( 63, 62, 64, 40, 65 ), PoolIntArray( 52, 66, 67, 68, 69 ), PoolIntArray( 52, 70, 71, 47, 49 ), PoolIntArray( 72, 2, 40 ), PoolIntArray( 64, 72, 40 ), PoolIntArray( 73, 65, 40 ), PoolIntArray( 74, 73, 40 ), PoolIntArray( 75, 74, 40 ), PoolIntArray( 52, 54, 70 ), PoolIntArray( 52, 49, 66 ), PoolIntArray( 52, 69, 76 ), PoolIntArray( 52, 76, 77 ), PoolIntArray( 40, 52, 77, 78 ), PoolIntArray( 40, 78, 75 ) ]
outlines = [ PoolVector2Array( 1292, -5, 1301, 731, -12, 732, -4, -8 ), PoolVector2Array( 350, 276, 357, 250, 353, 221, 337, 175, 383, 166, 385, 113, 333, 117, 330, 96, 362, 76, 348, 40, 276, 35, 253, 58, 196, 58, 153, 77, 135, 56, 109, 65, 121, 105, 112, 121, 94, 145, 74, 175, 63, 205, 62, 263, 82, 303, 130, 343, 181, 352, 243, 350, 315, 321 ), PoolVector2Array( 633, 342, 607, 362, 596, 395, 604, 416, 664, 431, 717, 422, 739, 393, 730, 354, 688, 339 ), PoolVector2Array( 816, 114, 812, 129, 817, 143, 864, 141, 847, 110, 830, 103 ), PoolVector2Array( 874, 154, 869, 179, 860, 204, 856, 225, 854, 243, 870, 266, 936, 259, 934, 303, 950, 330, 1009, 330, 1025, 295, 1027, 265, 1088, 273, 1096, 326, 1174, 332, 1179, 275, 1240, 268, 1244, 213, 1228, 167, 1229, 113, 1209, 63, 1182, 49, 1133, 108, 1093, 50, 1060, 102, 1037, 94, 1013, 144, 986, 97, 957, 52, 937, 52, 920, 82, 910, 109, 907, 136 ) ]

[node name="Game" type="Node2D"]
script = ExtResource( 2 )

[node name="PauseScene" type="CanvasLayer" parent="."]
pause_mode = 2
layer = 2
script = ExtResource( 16 )

[node name="PausedColoredRect" type="ColorRect" parent="PauseScene"]
visible = false
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -548.0
margin_top = -328.0
margin_right = 548.0
margin_bottom = 328.0
color = Color( 0.0509804, 0.168627, 0.270588, 0.709804 )

[node name="PausedLabel" type="Label" parent="PauseScene"]
visible = false
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -252.0
margin_top = -56.5
margin_right = 252.0
margin_bottom = 56.5
custom_colors/font_color = Color( 1, 0.92549, 0.839216, 1 )
custom_fonts/font = SubResource( 8 )
text = "Game Paused
Press <esc> to resume"
align = 1

[node name="HUD" parent="." instance=ExtResource( 6 )]

[node name="Background" type="Sprite" parent="."]
position = Vector2( 642, 366 )
texture = ExtResource( 5 )

[node name="ClickAnimation" type="AnimatedSprite" parent="."]
position = Vector2( -43, -31 )
scale = Vector2( 0.75, 0.75 )
frames = SubResource( 7 )
animation = "click"
frame = 1

[node name="DrawSelectNode2D" type="Node2D" parent="."]
script = ExtResource( 3 )

[node name="YSort" type="YSort" parent="."]

[node name="Fire" parent="YSort" instance=ExtResource( 4 )]
position = Vector2( 652, 362 )

[node name="Villager" parent="YSort" instance=ExtResource( 1 )]
position = Vector2( 532, 388 )

[node name="Villager2" parent="YSort" instance=ExtResource( 1 )]
position = Vector2( 779, 362 )
initially_flipped = true

[node name="HouseSpawn1" type="Node2D" parent="YSort"]
position = Vector2( 427, 463 )

[node name="HouseSpawn2" type="Node2D" parent="YSort"]
position = Vector2( 871, 467 )

[node name="HouseSpawn3" type="Node2D" parent="YSort"]
position = Vector2( 518, 553 )

[node name="HouseSpawn4" type="Node2D" parent="YSort"]
position = Vector2( 821, 559 )

[node name="VillagerSpawn" type="Node2D" parent="."]
position = Vector2( 1373, 416 )

[node name="PondArea" type="Area2D" parent="."]
visible = false

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="PondArea"]
position = Vector2( 40, 62 )
polygon = PoolVector2Array( 359, 96, 341, 152, 340, 208, 311, 281, 245, 315, 176, 329, 72, 319, 23, 289, -6, 257, -13, 206, 3, 100, 61, 25, 116, -25, 232, -33, 327, -9, 345, 29, 361, 66 )

[node name="WoodArea" type="Area2D" parent="."]
visible = false

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="WoodArea"]
position = Vector2( 105.643, 40.6202 )
scale = Vector2( 1.17114, 1.19597 )
polygon = PoolVector2Array( 652.664, 64.7002, 609.97, 143.297, 641.563, 201.827, 680.841, 219.386, 710.727, 256.176, 785.868, 258.684, 816.607, 210.188, 841.369, 254.504, 890.894, 264.537, 932.734, 256.176, 946.396, 212.697, 1001.9, 160.856, 989.943, 97.3096, 985.674, 19.5487, 890.894, -5.53543, 782.452, 22.0571, 690.234, 0.317535 )

[node name="VillagerArrive" type="Timer" parent="."]
wait_time = 5.0
autostart = true

[node name="EnemyArrive" type="Timer" parent="."]
wait_time = 0.35
autostart = true

[node name="ShortenEnemySpawn" type="Timer" parent="."]
wait_time = 11.0
autostart = true

[node name="EnemySpawn1" type="Node2D" parent="."]
position = Vector2( 692, 765 )

[node name="EnemySpawn2" type="Node2D" parent="."]
position = Vector2( -96, 456 )

[node name="EnemySpawn3" type="Node2D" parent="."]
position = Vector2( 1380, 582 )

[node name="EnemySpawn4" type="Node2D" parent="."]
position = Vector2( -63, 780 )

[node name="HoursLived" type="Label" parent="."]
margin_left = 1071.0
margin_top = 20.0
margin_right = 1282.0
margin_bottom = 133.0
custom_colors/font_color = Color( 1, 0.92549, 0.839216, 1 )
custom_fonts/font = SubResource( 5 )
text = "Hours lived   0"

[node name="HoursLivedTimer" type="Timer" parent="."]
wait_time = 3.0
autostart = true

[node name="NavigationPolygonInstance" type="NavigationPolygonInstance" parent="."]
navpoly = SubResource( 6 )

[node name="FireAudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 13 )
volume_db = -80.0
pitch_scale = 1.36
autoplay = true

[node name="ChoppingAudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 14 )
volume_db = -80.0
autoplay = true

[node name="WaterAudioSource" type="Node2D" parent="."]
position = Vector2( 167, 150 )

[node name="WaterAudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 15 )
volume_db = -80.0
autoplay = true

[node name="AudioTimer" type="Timer" parent="."]
wait_time = 0.1
autostart = true

[node name="SelectAudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 17 )
volume_db = -20.0

[connection signal="build_house" from="HUD" to="." method="_on_HUD_build_house"]
[connection signal="food_death" from="HUD" to="." method="_on_HUD_food_death"]
[connection signal="stoke_fire" from="HUD" to="." method="_on_HUD_stoke_fire"]
[connection signal="freeze_death" from="YSort/Fire" to="." method="_on_Fire_freeze_death"]
[connection signal="body_entered" from="PondArea" to="." method="_on_PondArea_body_entered"]
[connection signal="body_exited" from="PondArea" to="." method="_on_PondArea_body_exited"]
[connection signal="body_entered" from="WoodArea" to="." method="_on_WoodArea_body_entered"]
[connection signal="body_exited" from="WoodArea" to="." method="_on_WoodArea_body_exited"]
[connection signal="timeout" from="VillagerArrive" to="." method="_on_VillagerArrive_timeout"]
[connection signal="timeout" from="EnemyArrive" to="." method="_on_EnemyArrive_timeout"]
[connection signal="timeout" from="ShortenEnemySpawn" to="." method="_on_ShortenEnemySpawn_timeout"]
[connection signal="timeout" from="HoursLivedTimer" to="." method="_on_HoursLivedTimer_timeout"]
[connection signal="timeout" from="AudioTimer" to="." method="_on_AudioTimer_timeout"]
